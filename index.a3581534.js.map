{"mappings":"AAGA,MAAMA,EAAO,CACXC,WAAYC,SAASC,cAAc,gBACnCC,eAAgBF,SAASC,cAAc,YACvCE,YAAaH,SAASC,cAAc,eAEhCG,EAAiB,ICRR,MACbC,cACEC,KAAKC,YAAc,GACnBD,KAAKE,KAAO,C,CAGdC,cACEC,QAAQC,IAAIL,MACZ,MAAMM,EAAM,qEAAqEN,KAAKC,iDAAiDD,KAAKE,OAE5I,OAAOK,MAAMD,GACVE,MAAKC,GAAKA,EAAEC,SACZF,MAAKG,IACJX,KAAKE,MAAQ,EACNS,EAAMC,O,CAInBC,YACEb,KAAKE,KAAO,C,CAGVY,YACF,OAAOd,KAAKC,W,CAGVa,UAAMC,GACRf,KAAKC,YAAcc,C,GDlBvBvB,EAAKC,WAAWuB,iBAAiB,UAGjC,SAAkBC,GAChBA,EAAMC,iBAENpB,EAAegB,MAAQG,EAAME,cAAcC,SAASN,MAAMO,MAC1DvB,EAAee,YACff,EAAeK,cAAcK,MAAKI,GAAQR,QAAQC,IAAIO,I,IAPxDpB,EAAKK,YAAYmB,iBAAiB,SAUlC,SAAoBC,GAClBnB,EAAeK,cAAcK,MAAKI,GAAQR,QAAQC,IAAIO,I","sources":["src/index.js","src/news-service.js"],"sourcesContent":["import NewsApiService from './news-service';\nimport { createImageCardMarkup } from './card-markup';\n\nconst refs = {\n  searchForm: document.querySelector('.search-form'),\n  imageContainer: document.querySelector('.gallery'),\n  loadMoreBtn: document.querySelector('.load-more'),\n};\nconst newsApiService = new NewsApiService();\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\n\nfunction onSearch(event) {\n  event.preventDefault();\n\n  newsApiService.query = event.currentTarget.elements.query.value;\n  newsApiService.resetPage();\n  newsApiService.fetchImages().then(hits => console.log(hits));\n}\n\nfunction onLoadMore(event) {\n  newsApiService.fetchImages().then(hits => console.log(hits));\n}\n\nfunction renderImages(hits) {\n  const cardsMarkup = hits.map(hit => createImageCardMarkup(hit)).join('');\n  refs.imageContainer.insertAdjacentHTML('beforeend', cardsMarkup);\n}\n","export default class NewsApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchImages() {\n    console.log(this);\n    const url = `https://pixabay.com/api/?key=36301622-891f1a79dbe681583e2d486bc&q=${this.searchQuery}&image_type=photo&per_page=40&page=${this.page}`;\n\n    return fetch(url)\n      .then(r => r.json())\n      .then(image => {\n        this.page += 1;\n        return image.hits;\n      });\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n"],"names":["$1f0dc3b9307be026$var$refs","searchForm","document","querySelector","imageContainer","loadMoreBtn","$1f0dc3b9307be026$var$newsApiService","constructor","this","searchQuery","page","fetchImages","console","log","url","fetch","then","r","json","image","hits","resetPage","query","newQuery","addEventListener","event","preventDefault","currentTarget","elements","value"],"version":3,"file":"index.a3581534.js.map"}